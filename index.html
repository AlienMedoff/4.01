<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCM 2.0 | CyberTerminal</title>
    <style>
        :root { --neon: #00ff41; --warn: #f39c12; --danger: #ff003c; --bg: #0a0a0b; }
        body { background: var(--bg); color: #888; font-family: 'Courier New', monospace; margin: 0; padding: 20px; }
        .terminal { border: 1px solid #333; box-shadow: 0 0 20px rgba(0,255,65,0.1); padding: 15px; border-radius: 5px; }
        .header { color: var(--neon); text-transform: uppercase; font-weight: bold; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .league-group { margin-bottom: 25px; }
        .league-title { color: #fff; background: #1a1a1c; padding: 5px 10px; font-size: 0.9em; border-left: 3px solid var(--neon); margin-bottom: 10px; }
        .match-card { background: #111; border: 1px solid #222; margin-bottom: 10px; padding: 12px; display: flex; flex-direction: column; position: relative; }
        .match-card.green { border-left: 4px solid var(--neon); }
        .match-card.yellow { border-left: 4px solid var(--warn); }
        .match-card.red { border-left: 4px solid var(--danger); }
        .teams { color: #eee; font-size: 1.1em; margin-bottom: 5px; }
        .odds { font-size: 0.8em; color: #555; }
        .verdict { margin-top: 8px; font-size: 0.9em; line-height: 1.4; }
        .edge { position: absolute; top: 10px; right: 10px; font-weight: bold; color: var(--neon); }
        .audit { font-style: italic; color: #666; font-size: 0.85em; margin-top: 5px; border-top: 1px dashed #222; padding-top: 5px; }
        .glitch { animation: glitch 1s linear infinite; }
        @keyframes glitch { 2%,64%{transform: translate(2px,0) skew(0deg);} 4%,60%{transform: translate(-2px,0) skew(0deg);} 62%{transform: translate(0,0) skew(5deg);} }
    </style>
</head>
<body>
    <div class="terminal">
        <div class="header">SYSTEM_STATUS: <span class="glitch">ACTIVE_HUNT</span> // PCM_2.0</div>
        <div id="content">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ö–∞–±–∞...</div>
    </div>

    <script>
        async function loadData() {
            try {
                // –ü—É—Ç—å –∫ —Ç–≤–æ–µ–º—É JSON —Ñ–∞–π–ª—É (raw –≤–µ—Ä—Å–∏—è)
                const response = await fetch('web_export/today_prognosis.json?t=' + new Date().getTime());
                const data = await response.json();
                const container = document.getElementById('content');
                container.innerHTML = '';

                if (data.length === 0) {
                    container.innerHTML = '–ù–ï–¢ –°–ò–ì–ù–ê–õ–û–í –ù–ê –°–ï–ì–û–î–ù–Ø.';
                    return;
                }

                data.forEach(m => {
                    const colorClass = m.analysis.color.includes('üü¢') ? 'green' : (m.analysis.color.includes('üü°') ? 'yellow' : 'red');
                    const html = `
                        <div class="match-card ${colorClass}">
                            <div class="edge">${m.analysis.edge}</div>
                            <div class="teams">${m.match}</div>
                            <div class="odds">üìä ${m.odds || 'LINE_DATA'}</div>
                            <div class="verdict">
                                <b>${m.analysis.color} ${m.analysis.verdict}</b> (${m.analysis.prob})
                            </div>
                            <div class="audit">ü§ñ Audit: ${m.audit}</div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (e) {
                document.getElementById('content').innerHTML = '–û–®–ò–ë–ö–ê –î–û–°–¢–£–ü–ê –ö –î–ê–ù–ù–´–ú.';
            }
        }
        loadData();
        setInterval(loadData, 300000); // –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
    </script>
</body>
</html>
